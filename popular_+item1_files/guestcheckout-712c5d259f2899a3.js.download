(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9682],{23867:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/guestcheckout",function(){return n(19605)}])},19605:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSP:function(){return L}});var o=n(85893),i=n(67294),s=n(41248),a=n(73455),u=n(59562),r=n(70893),c=n(17117),l=n(12243),d=n(66680),f=n(95370),g=n(56351),v=n(11163),m=n(71930),h=n(3950),y=n(67446),p=n(99691),_=n(59441),S=n(63357),k=n(18650),w=n(79229),E=n(87840),L=!0;e.default=function(t){var e,n=t.dir,L=t.api,b=t.token,x=t.constantSettings,I=(0,v.useRouter)(),Z=(0,v.useRouter)().locale,M=(0,s.v9)((function(t){return t.settings.staticSettings})),N=(0,s.v9)((function(t){return t.settings.staticSettings.merchantId})),j=(0,s.v9)((function(t){return t.settings.meta})),D=(0,s.v9)((function(t){return t.settings.user})),R=(0,s.v9)((function(t){return t.settings.authToken})),C=(0,s.v9)((function(t){return t.settings.restaurantDetailsSet})),O=(0,s.v9)((function(t){return t.settings.staticSettings.theme})),P=(0,s.v9)((function(t){return t.settings.isDineinMenu})),T=(0,s.I0)(),A=(0,r.xQ)(),J=A.apiUrl,q=A.domain,U=(0,v.useRouter)().query,K=(0,p.Mf)("authToken"),Q=b||(R||K),X=(0,l.pf)(Q,(null===M||void 0===M||null===(e=M.setting)||void 0===e?void 0:e.api_version)||"0.10.99").data;(0,i.useEffect)((function(){B(M)}),[M]),(0,i.useEffect)((function(){b?(T((0,a.qZ)(L.detailsRes)),T((0,a.US)(L.meta)),T((0,a.uB)(b)),localStorage.setItem("authToken",b)):J&&Q?(0,c.Li)(J,q,U,localStorage.getItem("slug")?localStorage.getItem("slug"):"",Q).then((function(t){T((0,a.qZ)((0,g.Qn)(t.data))),T((0,a.US)((0,d.xZ)(t.data)))})).catch((function(t){console.error("Error in getRestaurantDetails:",t),window.history.back()})):window.history.back()}),[Q,J]),(0,i.useEffect)((function(){var t,e;N&&document.body.classList.add("merchant-"+N),!0===(null===(t=x[N])||void 0===t?void 0:t.rectangleLogo)&&document.body.classList.add("LogoRectangular"),!0===(null===(e=x[N])||void 0===e?void 0:e.rectangleLogoCheckoutHide)&&document.body.classList.remove("LogoRectangular")}),[N]),(0,i.useEffect)((function(){(0,f.u)(O,N,x)}),[O,N]),(0,i.useEffect)((function(){var t=(0,p.AK)("userDetails");t&&!D&&T((0,a.av)(t));var e=(0,p.AK)("isLoggedIn");e&&T((0,a.nf)(e));var n=P?"Dinein":localStorage.getItem("delivery_type")?localStorage.getItem("delivery_type"):"Delivery";T((0,a.gN)(n))}),[]),(0,i.useEffect)((function(){X&&T((0,u.Wp)(X.details))}),[X]),(0,i.useEffect)((function(){T((0,u.i8)(localStorage.getItem("taxClass")?JSON.parse(localStorage.getItem("taxClass")):null))}),[]),(0,i.useEffect)((function(){w.cV.includes(N)?document.body.classList.remove("dark-theme"):(0,p.Mf)("dark")&&1==(0,p.Mf)("dark")?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme")}),[]);var B=function(t){var e,n=(0,p.Mf)("cityAreas")?(0,p.Mf)("cityAreas"):'{"1": false}',o=localStorage.getItem("slug");e="string"===typeof n?JSON.parse(n):n,"Delivery"==(0,p.Mf)("delivery_type")&&(e[Object.keys(e)]||(null===t||void 0===t?void 0:t.showMapModal)?(0,E.Zs)()||(0,E.n)()||((0,g.Jv)(window.location.origin)?I.push("/menu-".concat(o),void 0,{locale:Z}):I.push("/",void 0,{locale:Z})):(0,p.Mf)("city_id")||((0,g.Jv)(window.location.origin)?I.push("/menu-".concat(o),void 0,{locale:Z}):I.push("/",void 0,{locale:Z})))};return C?(0,o.jsx)(_.ZP,{settings:M,children:(0,o.jsxs)(k.ZP,{settings:x,children:[j?(0,o.jsx)(y.Z,{meta:j}):null,(0,o.jsx)(S.Z,{}),(0,o.jsx)(m.Z,{dir:n})]})}):(0,o.jsx)(h.Z,{})}},3950:function(t,e,n){"use strict";var o=n(85893);n(67294),n(41248);e.Z=function(){return(0,o.jsx)(o.Fragment,{})}}},function(t){t.O(0,[1228,9866,260,1627,1570,3662,1778,5937,5445,3874,4617,6158,4090,9401,1255,8907,6077,2013,6556,9770,3065,4538,4652,6133,1553,1403,8028,7669,3100,9774,2888,179],(function(){return e=23867,t(t.s=e);var e}));var e=t.O();_N_E=e}]);